import { WAMessageStubType } from '@whiskeysockets/baileys';
import fetch from 'node-fetch';

const mensajesDespedida = [
  `â•­â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ‰«
â”Š {nombre}
â”Š (-ðŸ­) ð—§ð—² ð—³ð˜‚ð—¶ð˜€ð˜ð—² ð—ºÃ¡ð˜€ ð—¿Ã¡ð—½ð—¶ð—±ð—¼ ð—¾ð˜‚ð—² ð˜ð˜‚ ð˜ƒð—¶ð—¿ð—´ð—¶ð—»ð—¶ð—±ð—®. ðŸš€
â•°â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ‰«`,
`â•­â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ‰«
â”Š {nombre}
â”Š (-ðŸ­) ð—¡ð—¶ ð˜ð˜‚ ð—ºð—®ð—ºÃ¡ ð˜ð—² ð—²Ìð˜…ð˜ð—¿ð—®Ã±ð—®, Â¿ð—°ð—¿ð—²ð—²ð˜€ ð—¾ð˜‚ð—² ð—»ð—¼ð˜€ð—¼ð˜ð—¿ð—¼ð˜€ ð˜€ð—¶Ì? ðŸ˜‚
â•°â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ‰«`,
`â•­â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ‰«
â”Š {nombre}
â”Š (-ðŸ­) ð—¦ð—®ð—¹ð—¶ð˜€ð˜ð—² ð˜† ð—²ð—¹ ð—´ð—¿ð˜‚ð—½ð—¼ ð—²ð˜€ ð—ºÃ¡ð˜€ ð—¶ð—»ð˜ð—²ð—¹ð—¶ð—´ð—²ð—»ð˜ð—². ðŸ§ ðŸ”¥
â•°â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ‰«`,
`â•­â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ‰«
â”Š {nombre}
â”Š (-ðŸ­) ð—–ð—¶ð—²ð—¿ð—¿ð—® ð—¹ð—® ð—½ð˜‚ð—²ð—¿ð˜ð—® ð—®ð—¹ ð˜€ð—®ð—¹ð—¶ð—¿, ð—½ð—²ð—»ð—±ð—²ð—·ð—¼. ðŸšª
â•°â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ‰«`,
`â•­â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ‰«
â”Š {nombre}
â”Š (-ðŸ­) ð—¡ð—¼ ð—²ð—¿ð—®ð˜€ ð—»ð—¶ ð—³ð˜‚ð—»ð—±ð—®ð—ºð—²ð—»ð˜ð—®ð—¹, ð—²ð—¿ð—®ð˜€ ð—²ð—¹ ð—¹ð—®ð˜€ð˜ð—¿ð—². âš“ï¸
â•°â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ‰«`,
`â•­â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ‰«
â”Š {nombre}
â”Š (-ðŸ­) ð—–ð—¼ð—» ð˜ð˜‚ ð˜€ð—®ð—¹ð—¶ð—±ð—® ð—²ð—¹ ð—´ð—¿ð˜‚ð—½ð—¼ ð—½ð—²ð—¿ð—±ð—¶Ã³ ð˜‚ð—» ð—½ð—²ð˜€ð—¼ ð—ºð˜‚ð—²ð—¿ð˜ð—¼. âš°ï¸
â•°â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ‰«`,
`â•­â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ‰«
â”Š {nombre}
â”Š (-ðŸ­) ð—¤ð˜‚ð—² ð—¯ð˜‚ð—²ð—»ð—¼ ð—¾ð˜‚ð—² ð˜ð—² ð˜ƒð—®ð˜€, ð—²ð—¿ð—®ð˜€ ð—²ð—¹ ð˜€ð—½ð—®ð—º ð—µð˜‚ð—ºð—®ð—»ð—¼. ðŸ—‘ï¸
â•°â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ‰«`,
`â•­â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ‰«
â”Š {nombre}
â”Š (-ðŸ­) ð—¦ð—¶ ð˜ƒð—®ð˜€ ð—® ð—°ð—¼ð—ºð—¼ ð—¹ð—¹ð—²ð—´ð—®ð˜€ð˜ð—², ð—»ð—®ð—±ð—¶ð—² ð—¹ð—¼ ð—»ð—¼ð˜ð—®. ðŸ¦—
â•°â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ‰«`,
`â•­â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ‰«
â”Š {nombre}
â”Š (-ðŸ­) ð—£ð—¼ð—¿ ð—³ð—¶ð—» ð—½ð—¼ð—±ð—²ð—ºð—¼ð˜€ ð—µð—®ð—¯ð—¹ð—®ð—¿ ð˜€ð—¶ð—» ð—½ð—²ð—»ð—±ð—²ð—·ð—²ð˜€ ð—¾ð˜‚ð—² ð—ºð—¶ð—¿ð—²ð—». ðŸŽ‰
â•°â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ‰«`,
`â•­â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ‰«
â”Š {nombre}
â”Š (-ðŸ­) ð—˜ð—»ð˜ð—¿ð—®ð˜€ð˜ð—² ð—°ð—¼ð—ºð—¼ ð—³ð—®ð—»ð˜ð—®ð˜€ð—ºð—®, ð˜ð—² ð˜ƒð—®ð˜€ ð—°ð—¼ð—ºð—¼ ð—°ð—®ð—¯ð—¿Ã³ð—». ðŸ‘»
â•°â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ‰«`,
`â•­â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ‰«
â”Š {nombre}
â”Š (-ðŸ­) ð—¦ð—¶ ð—²ð˜€ð˜ð—¼ ð—³ð˜‚ð—²ð—¿ð—® ð˜‚ð—» ð—¿ð—²ð—®ð—¹ð—¶ð˜ð˜†, ð˜ð—² ð˜€ð—®ð—°ð—®ð—¯ð—®ð—ºð—¼ð˜€ ð—½ð—¼ð—¿ ð—¶ð—»Ãºð˜ð—¶ð—¹. ðŸ“º
â•°â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ‰«`,
`â•­â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ‰«
â”Š {nombre}
â”Š (-ðŸ­) ð—£ð—²ð—¿ð—±ð—¼Ìð—» ð—½ð—²ð—¿ð—¼ ð—²ð˜€ð˜ð—¼ ð—»ð—¼ ð—²ð˜€ ð˜ð˜‚ ð—®ð—»ð—¶ð—ºð—², ð—®ð—¾ð˜‚Ã­ ð—»ð—¼ ð—²ð—¿ð—®ð˜€ ð—½ð—¿ð—¼ð˜ð—®ð—´ð—¼ð—»ð—¶ð˜€ð˜ð—®. ðŸ¥
â•°â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ‰«`,
`â•­â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ‰«
â”Š {nombre}
â”Š (-ðŸ­) ð—Ÿð—® ð˜€ð—®ð—¹ð—¶ð—±ð—® ð—±ð—²ð—¹ ð—®Ã±ð—¼, ð—µð—®ð˜€ð˜ð—® ð—²ð—¹ ð—¯ð—¼ð˜ ð˜€e fue
â”Š (-ðŸ­) ð—¡ð—¼ ð˜ð—² ð—±ð—²ð˜€ð—½ð—²ð—±ð—¶ð—ºð—¼ð˜€, ð˜ð—² ð—²ð˜…ð—½ð˜‚ð—¹ð˜€ð—®ð—ºð—¼ð˜€ ð—±ð—² ð—ºð—²ð—»ð˜ð—². ðŸ§¹
â•°â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ‰«`,
`â•­â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ‰«
â”Š {nombre}
â”Š (-ðŸ­) ð—˜ð—¹ ð—´ð—¿ð˜‚ð—½ð—¼ ð˜€ð—² ð—¹ð—¶ð—ºð—½ð—¶ð—®, ð˜€ð—² ð˜ƒð—® ð—²ð—¹ ð—½ð—¼ð—¹ð˜ƒð—¼. ðŸ§½
â•°â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ‰«`,
`â•­â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ‰«
â”Š {nombre}
â”Š (-ðŸ­) ð—¤ð˜‚ð—²ð—±ð—®ð˜ð—² ð—³ð˜‚ð—²ð—¿ð—®, ð—½ð—¼ð—¿ ð—³ð—®ð—¹ð˜ð—® ð—±ð—² ð—®ð—°ð˜ð—¶ð˜ƒð—¶ð—±ð—®ð—±. ðŸ’¤
â•°â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ‰«`,
`â•­â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ‰«
â”Š {nombre}
â”Š (-ðŸ­) ð——ð—² ð—¹ð—¼ð˜€ ð—°ð—¿ð—²ð—®ð—±ð—¼ð—¿ð—²ð˜€ ð—±ð—² 'ð—»ð—®ð—±ð—¶ð—² ð˜ð—² ð—¿ð—²ð—°ð—¼ð—¿ð—±ð—®ð—¿Ã¡', ð—¹ð—²ð—´ð—® 'ð—»ð—®ð—±ð—¶ð—² ð—¹ð—¹ð—¼ð—¿ð—®ð—¿Ã¡'. ðŸŽ¬
â•°â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ‰«`,
`â•­â”ˆâ”ˆâ”ˆ{nombre}
â”Š (-ðŸ­) ð—§ð˜‚ ð˜€ð—®ð—¹ð—¶ð—±ð—® ð˜€ð—² ð—³ð—²ð˜€ð˜ð—²ð—·ð—® ð—ºÃ¡ð˜€ ð—¾ð˜‚ð—² ð˜‚ð—» ð—´ð—¼ð—¹. âš½ï¸
â•°â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ‰«`,
`â•­â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ‰«
â”Š {nombre}
â”Š (-ðŸ­) ð—¡ð—¶ ð—²ð—¹ ð—¯ð—¼ð˜ ð˜ð—² ð—®ð—´ð—¿ð—²ð—´ð—® ð—® ð˜€ð˜‚ð˜€ ð—°ð—¼ð—»ð˜ð—®ð—°ð˜ð—¼ð˜€. ðŸ¤³
â•°â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ‰«`,
`â•­â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ‰«
â”Š {nombre}
â”Š (-ðŸ­) ð—£ð—¼ð—¿ ð˜ð—¶ ð—²ð—¹ ð—´ð—¿ð˜‚ð—½ð—¼ ð˜€ð—² ð—¹ð—¹ð—®ð—ºð—®ð—¿Ã¡ ð—²ð—¹ ð—°ð—¹ð˜‚ð—¯ ð—±ð—² ð—¹ð—¼ð˜€ ð—¼ð—¹ð˜ƒð—¶ð—±ð—®ð—±ð—¼ð˜€. ðŸŽ­
â•°â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ‰«`,
`â•­â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ‰«
â”Š {nombre}
â”Š (-ðŸ­) ð—›ð—¼ð˜† ð—²ð˜€ ð˜ð˜‚ ð—±ð—¶Ìð—® ð—±ð—² ð˜€ð˜‚ð—²ð—¿ð˜ð—², ð—»ð—®ð—±ð—¶ð—² ð—²ð˜€ð—°ð—¿ð—¶ð—¯ð—¶ð—¿Ã¡ ð—²ð˜€ð˜ð—² ð—®ð—±ð—¶ð—¼Ìð˜€. ðŸ€
â•°â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ‰«`,
`â•­â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ‰«
â”Š {nombre}
â”Š (-ðŸ­) ð—˜ð˜€ð˜ð—² ð—°ð—µð—®ð˜ ð˜€ð—² ð—¿ð—²ð—¶Ìð—¿ð—® ð—ºÃ¡ð˜€ ð˜€ð—¶ð—» ð˜ð—¶. ðŸ˜‚
â•°â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ‰«`,
`â•­â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ‰«
â”Š {nombre}
â”Š (-ðŸ­) ð—¦ð—² ð˜ƒð—® ð˜‚ð—» ð—½ð—¿ð—¼ð—¯ð—¹ð—²ð—ºð—®, ð—»ð—¼ ð˜‚ð—» ð—®ð—ºð—¶ð—´ð—¼. ðŸ˜¬
â•°â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ‰«`,
`â•­â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ‰«
â”Š {nombre}
â”Š (-ðŸ­) ð—¡ð—¶ ð—²ð—» ð—²ð—¹ ð—¶ð—»ð—³ð—¶ð—²ð—¿ð—»ð—¼ ð—°ð—²ð—¹ð—²ð—¯ð—¿ð—®ð—» ð˜ð˜‚ ð—¹ð—²ð—´ð—®ð—±ð—¼. ðŸ”¥
â•°â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ‰«`,
];

const mensajesBienvenida = [
  `â”ŠÂ» Se subiÃ³ el nivel â”ŠÂ» ð—¡ð—¢ ð—¦ð—˜ð—”ð—¦ ð——ð—˜ ð—˜ð—¦ð—¢ð—¦ ð—¤ð—¨ð—˜ ð—¡ð—¢ ð—Ÿð—˜ð—˜ð—¡ â”ŠÂ» @${m.messageStubParameters[0].split`@`[0]} â”ŠÂ» ð—¿ð—²ð˜ƒð—¶ð˜€ð—® ð—¹ð—® ð—±ð—²ð˜€ð—°ð—¿ð—¶ð—½ð—°ð—¶ð—¼ð—» Â» No hagas preguntas tontas, todo estÃ¡ en las reglas.`,
  `â”ŠÂ» Solo los duros entran â”ŠÂ» ð—£ð—¢ð—¥ ð—™ð—” ð—¡ð—¢ ð—›ð—”ð—šð—”ð—¦ ð—˜ð—Ÿ ð—£ð—”ð—£ð—˜ð—Ÿ ð——ð—˜ð—Ÿ ð—§ð—¢ð—¡ð—§ð—¢ â”ŠÂ» @${m.messageStubParameters[0].split`@`[0]} â”ŠÂ» ð—¹ð—²ð—² ð—¹ð—® ð—¶ð—»ð—³ð—¼ Â» Reglas primero, despuÃ©s la mamadera.`,
  `â”ŠÂ» LlegÃ³ el que faltaba â”ŠÂ» ð— ð—”ð—¦ ð—©ð—”ð—Ÿð—˜ ð—¤ð—¨ð—˜ ð—¡ð—¢ ð—Ÿð—” ð—–ð—”ð—šð—¨ð—˜ð—¦ â”ŠÂ» @${m.messageStubParameters[0].split`@`[0]} â”ŠÂ» ð—¿ð—²ð˜ƒð—¶ð˜€ð—® ð—¹ð—® ð—±ð—²ð˜€ð—°ð—¿ð—¶ð—½ð—°ð—¶ð—¼ð—» Â» Lee las reglas, no vengas de despistado.`,
  `â”ŠÂ» ð—–ð—¢ð—¡ ð—§ð—œð—šð—¢ ð—¦ð—¢ð— ð—¢ð—¦ ð—¢ð—§ð—¥ð—¢ ð—¡ð—œð—©ð—˜ð—Ÿ â”ŠÂ» @${m.messageStubParameters[0].split`@`[0]} â”ŠÂ» ð—¹ð—²ð—² ð—¹ð—® ð—¶ð—»ð—³ð—¼ Â» Si no lees las reglas, ni llores cuando te saquen.`,
  `â”ŠÂ» ð—¤ð—¨ð—˜ ð—Ÿð—¨ð—ð—¢ ð—§ð—˜ð—¡ð—˜ð—¥ð—§ð—˜ â”ŠÂ» @${m.messageStubParameters[0].split`@`[0]} â”ŠÂ» ð—¹ð—²ð—² ð—¹ð—® ð—±ð—²ð˜€ð—°ð—¿ð—¶ð—½ð—°ð—¶ð—¼ð—» Â» No vengas a desordenar, primero lee las reglas, cabrÃ³n.`,
];

export async function before(m, { conn, participants, groupMetadata }) {
  if (!m.messageStubType || !m.isGroup) return !0;

  let pp = await conn.profilePictureUrl(m.messageStubParameters[0], 'image').catch(() => 'https://tinyurl.com/ylgu47w3');
  let img = await (await fetch(pp)).buffer();
  let chat = global.db.data.chats[m.chat];

  if (chat.bienvenida && m.messageStubType == 27) {
    let bienvenida = mensajesBienvenida[Math.floor(Math.random() * mensajesBienvenida.length)].replace('{nombre}', `@${m.messageStubParameters[0].split`@`[0]}`);
    await conn.sendAi(m.chat, namebot, author, bienvenida, img, img, canal);
  }

  if (chat.bienvenida && (m.messageStubType == 28 || m.messageStubType == 32)) {
    let nombre = `@${m.messageStubParameters[0].split`@`[0]}`;
    let despedida = mensajesDespedida[Math.floor(Math.random() * mensajesDespedida.length)].replace(/{nombre}/g, nombre);
    await conn.sendAi(m.chat, namebot, author, despedida, img, img, canal);
  }
}